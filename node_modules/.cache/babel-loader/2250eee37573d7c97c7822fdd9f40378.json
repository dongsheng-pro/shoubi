{"remainingRequest":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\HM\\Desktop\\coin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HM\\Desktop\\coin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HM\\Desktop\\coin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HM\\Desktop\\coin\\src\\view\\play\\play-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HM\\Desktop\\coin\\src\\view\\play\\play-list.vue","mtime":1560272166782},{"path":"C:\\Users\\HM\\Desktop\\coin\\.babelrc","mtime":1556246239000},{"path":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\coin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Tables from \"_c/tables\";\nimport { getPlayList, getPlayForOne, updatePlay, addPlay, deletePlay } from \"@/api/play\";\nimport { getPlayTypeFirstList, getPlayTypeSecondList, getGetPlayTypeThirdList, getTeamList } from \"@/api/getList\";\nimport Selectdata from \"@/api/selectdata\";\nexport default {\n  name: \"playTypes_table\",\n  components: {\n    Tables: Tables\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      PlayTypeFirst_List: [],\n      PlayTypeSecond_List: [],\n      PlayTypeThird_List: [],\n      formValidata: {},\n      CompetitionStatus_List: Selectdata.CompetitionStatus_List,\n      formModal: false,\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      columns: [{\n        title: \"ID\",\n        key: \"playId\",\n        sortable: true\n      }, {\n        title: \"A队伍名\",\n        key: \"teamAName\"\n      }, {\n        title: \"A队得分\",\n        key: \"teamAPoint\"\n      }, {\n        title: \"B队伍名\",\n        key: \"teamBName\"\n      }, {\n        title: \"B队得分\",\n        key: \"teamBPoint\"\n      }, {\n        title: \"一级赛事名称\",\n        key: \"typeFirstName\"\n      }, {\n        title: \"二级赛事名称\",\n        key: \"typeSecondName\"\n      }, {\n        title: \"三级赛事名称\",\n        key: \"typeThirdName\"\n      }, // { title: \"比赛类型\", key: \"playType\" },\n      {\n        title: \"比赛状态\",\n        key: \"competitionStatus\"\n      }, {\n        title: \"比赛开始时间\",\n        key: \"playTimeStart\"\n      }, {\n        title: \"比赛结束时间\",\n        key: \"playTimeEnd\"\n      }, // { title: \"队伍A\", key: \"teamAId\"},\n      // { title: \"队伍B\", key: \"teamBId\"},\n      {\n        title: \"直播地址1\",\n        key: \"liveAddress1\"\n      }, {\n        title: \"直播地址2\",\n        key: \"liveAddress2\"\n      }, {\n        title: \"直播地址3\",\n        key: \"liveAddress3\"\n      }, {\n        title: \"直播地址4\",\n        key: \"liveAddress4\"\n      }, {\n        title: \"直播地址5\",\n        key: \"liveAddress5\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 150,\n        align: \"center\",\n        fixed: \"right\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            style: {\n              marginRight: \"5px\"\n            },\n            on: {\n              click: function click() {\n                _this.setdata(params);\n              }\n            }\n          }, \"查看\"), h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.handleDelete(params.index, params.row.Id);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      tableData: []\n    };\n  },\n  methods: {\n    //更新表格\n    updataModel: function updataModel() {\n      var _this2 = this;\n\n      getPlayList(this.pageSize, this.pageNum).then(function (res) {\n        _this2.tableData = res.data.Data.List;\n        _this2.total = res.data.Data.Count;\n      });\n    },\n    handleDelete: function handleDelete(index, Id) {\n      var _this3 = this;\n\n      deletePlay(Id.toString()).then(function (res) {\n        if (res.data.Status == 1) {\n          _this3.$Message.success(\"删除成功！\");\n        } else {\n          _this3.$Message.error(\"删除失败！\");\n        }\n      });\n      this.tableData.splice(index, 1);\n    },\n    exportExcel: function exportExcel() {\n      this.$refs.tables.exportCsv({\n        filename: \"table-\".concat(new Date().valueOf(), \".csv\")\n      });\n    },\n    //编辑\n    setdata: function setdata(params) {\n      var _this4 = this;\n\n      getPlayForOne(params.row.playId.toString()).then(function (res) {\n        if (res.data.Status == 1) {\n          _this4.formValidata = res.data.Data;\n          console.log(_this4.formValidata);\n        } else {\n          _this4.$Message.error(\"获取信息失败！\");\n        }\n      });\n      this.formModal = true;\n    },\n    //弹出框确认\n    ok: function ok() {\n      var _this5 = this;\n\n      if (this.formValidata.PlayId != null && this.formValidata.PlayId != \"\") {\n        updatePlay(this.formValidata, this.formValidata.PlayId).then(function (res) {\n          if (res.data.Status == 1) {\n            _this5.$Message.success(\"更新信息成功！\");\n          } else {\n            _this5.$Message.error(\"更新信息失败！\");\n          }\n\n          _this5.updataModel();\n        });\n      } else {\n        addPlay(this.formValidata).then(function (res) {\n          if (res.data.Status == 1) {\n            _this5.$Message.success(\"添加信息成功！\");\n          } else {\n            _this5.$Message.error(\"添加信息失败！\");\n          }\n\n          _this5.updataModel();\n        });\n      }\n\n      this.formModal = false;\n    },\n    //弹出框取消\n    cancel: function cancel() {\n      this.$Message.info(\"编辑取消！\");\n    },\n    //添加编辑\n    addModel: function addModel() {\n      this.formValidata = {};\n      this.formModal = true;\n    },\n    PageChange: function PageChange(PageNum) {\n      this.pageNum = PageNum;\n      this.updataModel();\n    },\n    HandlePageSize: function HandlePageSize(PageSize) {\n      this.pageSize = PageSize;\n      this.updataModel();\n    }\n  },\n  mounted: function mounted() {\n    var _this6 = this;\n\n    this.updataModel();\n    getPlayTypeFirstList().then(function (res) {\n      _this6.PlayTypeFirst_List = res.data.Data;\n    });\n    getPlayTypeSecondList().then(function (res) {\n      _this6.PlayTypeSecond_List = res.data.Data;\n    });\n    getGetPlayTypeThirdList().then(function (res) {\n      _this6.PlayTypeThird_List = res.data.Data;\n    }); // getTeamList().then(res => {\n    //   this.Team_List = res.data.Data;\n    // });\n  }\n};",null]}