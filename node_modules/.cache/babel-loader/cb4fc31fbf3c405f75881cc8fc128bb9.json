{"remainingRequest":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\src\\view\\playType\\playType-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\src\\view\\playType\\playType-list.vue","mtime":1560076704017},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\.babelrc","mtime":1556246239000},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HM\\Desktop\\体育管理后台前端\\SportsManagementBackground\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Tables from \"_c/tables\";\nimport { getPlayTypeList, getPlayTypeForOne, updatePlayType, addPlayType, deletePlayType } from \"@/api/playTypes\";\nexport default {\n  name: \"playTypes_table\",\n  components: {\n    Tables: Tables\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      formValidata: {},\n      formModal: false,\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      columns: [{\n        title: \"ID\",\n        key: \"TypeId\",\n        sortable: true\n      }, {\n        title: \"一级赛事名称\",\n        key: \"TypeFirst\"\n      }, {\n        title: \"二级赛事名称\",\n        key: \"TypeSecond\"\n      }, {\n        title: \"三级赛事名称\",\n        key: \"TypeName\"\n      }, {\n        title: \"排序\",\n        key: \"Sort\"\n      }, {\n        title: \"添加时间\",\n        key: \"AddTime\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 150,\n        align: \"center\",\n        fixed: \"right\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            style: {\n              marginRight: \"5px\"\n            },\n            on: {\n              click: function click() {\n                _this.setdata(params);\n              }\n            }\n          }, \"查看\"), h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.handleDelete(params.index, params.row.Id);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      tableData: []\n    };\n  },\n  methods: {\n    //更新表格\n    updataModel: function updataModel() {\n      var _this2 = this;\n\n      getPlayTypeList(this.pageSize, this.pageNum).then(function (res) {\n        _this2.tableData = res.data.Data.List;\n        _this2.total = res.data.Data.Count;\n      });\n    },\n    handleDelete: function handleDelete(index, Id) {\n      var _this3 = this;\n\n      deletePlayType(Id.toString()).then(function (res) {\n        if (res.data.Status == 1) {\n          _this3.$Message.success(\"删除成功！\");\n        } else {\n          _this3.$Message.error(\"删除失败！\");\n        }\n      });\n      this.tableData.splice(index, 1);\n    },\n    exportExcel: function exportExcel() {\n      this.$refs.tables.exportCsv({\n        filename: \"table-\".concat(new Date().valueOf(), \".csv\")\n      });\n    },\n    //编辑\n    setdata: function setdata(params) {\n      var _this4 = this;\n\n      getPlayTypeForOne(params.row.TypeId.toString()).then(function (res) {\n        if (res.data.Status == 1) {\n          _this4.formValidata = res.data.Data;\n        } else {\n          _this4.$Message.error(\"获取信息失败！\");\n        }\n      });\n      this.formModal = true;\n    },\n    //弹出框确认\n    ok: function ok() {\n      var _this5 = this;\n\n      if (this.formValidata.TypeId != null && this.formValidata.TypeId != \"\") {\n        updatePlayType(this.formValidata, this.formValidata.TypeId).then(function (res) {\n          if (res.data.Status == 1) {\n            _this5.$Message.success(\"更新信息成功！\");\n          } else {\n            _this5.$Message.error(\"更新信息失败！\");\n          }\n\n          ;\n\n          _this5.updataModel();\n        });\n      } else {\n        addPlayType(this.formValidata).then(function (res) {\n          if (res.data.Status == 1) {\n            _this5.$Message.success(\"添加信息成功！\");\n          } else {\n            _this5.$Message.error(\"添加信息失败！\");\n          }\n\n          ;\n\n          _this5.updataModel();\n        });\n      }\n\n      this.formModal = false;\n    },\n    //弹出框取消\n    cancel: function cancel() {\n      this.$Message.info(\"编辑取消！\");\n    },\n    //添加编辑\n    addModel: function addModel() {\n      this.formValidata = {};\n      this.formModal = true;\n    },\n    PageChange: function PageChange(PageNum) {\n      this.pageNum = PageNum;\n      this.updataModel();\n    },\n    HandlePageSize: function HandlePageSize(PageSize) {\n      this.pageSize = PageSize;\n      this.updataModel();\n    }\n  },\n  mounted: function mounted() {\n    this.updataModel();\n  }\n};",null]}